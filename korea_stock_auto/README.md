# í•œêµ­ ì£¼ì‹ ìžë™ë§¤ë§¤ ì‹œìŠ¤í…œ (Korea Stock Auto Trading System)

## ê°œìš”

í•œêµ­íˆ¬ìžì¦ê¶Œ APIë¥¼ í™œìš©í•˜ì—¬ í•œêµ­ ì£¼ì‹ ì‹œìž¥ì—ì„œ ìžë™ìœ¼ë¡œ ë§¤ë§¤ë¥¼ ìˆ˜í–‰í•˜ëŠ” ì‹œìŠ¤í…œìž…ë‹ˆë‹¤. ëª¨ë“ˆí™”ëœ êµ¬ì¡°ë¡œ ì„¤ê³„ë˜ì–´ ìœ ì§€ë³´ìˆ˜ ë° í™•ìž¥ì´ ìš©ì´í•©ë‹ˆë‹¤.

## ìµœê·¼ ë³€ê²½ì‚¬í•­

### Legacy Config ì™„ì „ ì œê±° ë° DI ì•„í‚¤í…ì²˜ ì „í™˜ (2025-06-06)

ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ë¥¼ í˜„ëŒ€ì ì¸ ì˜ì¡´ì„± ì£¼ìž…(Dependency Injection) íŒ¨í„´ìœ¼ë¡œ ì™„ì „ížˆ ì „í™˜í–ˆìŠµë‹ˆë‹¤:

- **ðŸ”§ Legacy Config ì™„ì „ ì œê±°**:
  - `korea_stock_auto/config/legacy.py` íŒŒì¼ ì‚­ì œ
  - ì „ì—­ ë³€ìˆ˜ ê¸°ë°˜ ì„¤ì • ë°©ì‹ ì™„ì „ ì œê±° (`APP_KEY`, `APP_SECRET`, `URL_BASE` ë“±)
  - `config/__init__.py`ì—ì„œ legacy import ì œê±°
  - ë²„ì „ ì—…ê·¸ë ˆì´ë“œ: v3.0.0

- **ðŸ“¦ DI ì»¨í…Œì´ë„ˆ ê¸°ë°˜ ì•„í‚¤í…ì²˜ êµ¬ì¶•**:
  - `KoreaInvestmentApiClient`ì— AppConfig ì˜ì¡´ì„± ì£¼ìž…
  - `ServiceFactory`ì—ì„œ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì— config ì „ë‹¬
  - `TradingStrategy` í´ëž˜ìŠ¤ë“¤ì— AppConfig ì£¼ìž…
  - ì¤‘ì•™ì§‘ì¤‘ì‹ ì„¤ì • ê´€ë¦¬ íŒ¨í„´ ì ìš©

- **ðŸ”— í´ë¦° ì•„í‚¤í…ì²˜ ì „í™˜**:
  - Utils ëª¨ë“ˆì—ì„œ legacy config ì˜ì¡´ì„± ì œê±°
  - `send_message`, `hashkey` í•¨ìˆ˜ ë§¤ê°œë³€ìˆ˜í™”
  - API í´ë¼ì´ì–¸íŠ¸ ìƒì„± ì‹œ config ì£¼ìž… íŒ¨í„´ ì ìš©
  - ìˆœí™˜ ì°¸ì¡° ë¬¸ì œ í•´ê²° ë° TYPE_CHECKING í™œìš©

- **ðŸ“ˆ ì•„í‚¤í…ì²˜ ê°œì„  íš¨ê³¼**:
  - âœ… **ì¼ê´€ì„±**: ëª¨ë“  ì»´í¬ë„ŒíŠ¸ê°€ AppConfigë¥¼ í†µí•´ ì„¤ì •ì— ì ‘ê·¼
  - âœ… **í…ŒìŠ¤íŠ¸ ìš©ì´ì„±**: ì˜ì¡´ì„± ì£¼ìž…ìœ¼ë¡œ ëª¨í‚¹ ë° í…ŒìŠ¤íŠ¸ ê°„íŽ¸í™”
  - âœ… **ìœ ì§€ë³´ìˆ˜ì„±**: ì¤‘ì•™ì§‘ì¤‘ì‹ ì„¤ì • ê´€ë¦¬ë¡œ ë³€ê²½ ì‚¬í•­ ì¶”ì  ìš©ì´
  - âœ… **í™•ìž¥ì„±**: ìƒˆë¡œìš´ ì„¤ì • ì¶”ê°€ ì‹œ AppConfigë§Œ ìˆ˜ì •í•˜ë©´ ë¨
  - âœ… **íƒ€ìž… ì•ˆì „ì„±**: TYPE_CHECKINGì„ í†µí•œ íƒ€ìž… ížŒíŠ¸ ê°œì„ 

- **ðŸ—ï¸ ìƒˆë¡œìš´ êµ¬ì¡°**:
  ```
  ðŸ“ í˜„ìž¬ ì•„í‚¤í…ì²˜ (v3.0.0)
  â”œâ”€â”€ ðŸ”§ DI Container ê¸°ë°˜ ì„œë¹„ìŠ¤ ë“±ë¡
  â”œâ”€â”€ ðŸ“¦ AppConfig ì¤‘ì•™ ì§‘ì¤‘ì‹ ì„¤ì • ê´€ë¦¬
  â”œâ”€â”€ ðŸ”— ì˜ì¡´ì„± ì£¼ìž…ì„ í†µí•œ í´ë¦° ì•„í‚¤í…ì²˜
  â””â”€â”€ ðŸš« Legacy Config ì™„ì „ ì œê±°
  ```

- **ê¶Œìž¥ ì‚¬ìš© íŒ¨í„´**:
  ```python
  # ì´ì „ (Legacy)
  from korea_stock_auto.config import APP_KEY, APP_SECRET  # âŒ
  
  # í˜„ìž¬ (Clean Architecture)
  def __init__(self, config: AppConfig):  # âœ…
      self.config = config
      self.app_key = config.current_api.app_key
  ```

### í†µí•© ë°ì´í„° ìˆ˜ì§‘ê¸° ê°œë°œ - í¬ë¡¤ë§ ê¸°ëŠ¥ í†µí•© (2025-05-23)

ê¸°ì¡´ì˜ ë¶„ë¦¬ëœ í¬ë¡¤ë§ ëª¨ë“ˆë“¤ì„ í•˜ë‚˜ì˜ í†µí•© ë°ì´í„° ìˆ˜ì§‘ê¸°ë¡œ í†µí•©í•˜ì—¬ ì½”ë“œ êµ¬ì¡°ë¥¼ ê°œì„ í–ˆìŠµë‹ˆë‹¤:

- **í†µí•© êµ¬ì¡° ê°œì„ **:
  - ê¸°ì¡´ `naver_crawler.py`ì™€ `hybrid_data_collector.py`ë¥¼ í•˜ë‚˜ë¡œ í†µí•©
  - ëª¨ë“  í¬ë¡¤ë§ ê¸°ëŠ¥ì„ `HybridDataCollector` í´ëž˜ìŠ¤ì— í†µí•©
  - ì½”ë“œ ì¤‘ë³µ ì œê±° ë° ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ

- **í†µí•©ëœ ê¸°ëŠ¥**:
  - **ë„¤ì´ë²„ ì¦ê¶Œ í¬ë¡¤ë§**: BeautifulSoup4 ê¸°ë°˜ HTML íŒŒì‹±ìœ¼ë¡œ 5ë…„ì¹˜ OHLCV ë°ì´í„° ìˆ˜ì§‘
  - **API ë°ì´í„° ìˆ˜ì§‘**: í•œêµ­íˆ¬ìžì¦ê¶Œ APIë¥¼ í†µí•œ ìµœì‹  30ê°œ ë°ì´í„° ìˆ˜ì§‘
  - **í•˜ì´ë¸Œë¦¬ë“œ ì „ëžµ**: API ìš°ì„ , ë¶€ì¡±ì‹œ í¬ë¡¤ëŸ¬ ë³´ì™„í•˜ëŠ” ì§€ëŠ¥í˜• ìˆ˜ì§‘
  - **ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™**: ì„ íƒì  ë°ì´í„°ë² ì´ìŠ¤ ì €ìž¥ ë° ìºì‹± ê¸°ëŠ¥

- **ìˆ˜ì§‘ ì „ëžµ**:
  - `hybrid`: API ìš°ì„ , ë¶€ì¡±ì‹œ í¬ë¡¤ëŸ¬ ë³´ì™„ (ê¸°ë³¸ê°’)
  - `api_only`: APIë§Œ ì‚¬ìš© (ìµœëŒ€ 30ê°œ)
  - `crawler_only`: í¬ë¡¤ëŸ¬ë§Œ ì‚¬ìš© (ìµœëŒ€ 5ë…„ì¹˜)
  - `db_first`: ë°ì´í„°ë² ì´ìŠ¤ ìš°ì„ , ë¶€ì¡±ì‹œ ì™¸ë¶€ ìˆ˜ì§‘

- **ê¸°ì¡´ ì‹œìŠ¤í…œê³¼ì˜ ì™„ë²½ ì—°ê³„**:
  - **TechnicalAnalyzer í†µí•©**: ê¸°ì¡´ ê¸°ìˆ ì  ë¶„ì„ê¸°ì™€ 100% í˜¸í™˜
  - **ë°ì´í„° í˜•ì‹ í‘œì¤€í™”**: APIì™€ í¬ë¡¤ëŸ¬ ë°ì´í„°ë¥¼ ë™ì¼í•œ í˜•ì‹ìœ¼ë¡œ í†µí•©
  - **ìžë™ ë³‘í•©**: ì¤‘ë³µ ì œê±° ë° ìµœì‹  ìˆœ ì •ë ¬ë¡œ ë°ì´í„° í’ˆì§ˆ ë³´ìž¥

- **ì„±ê³¼ ë° íš¨ê³¼**:
  - âœ… **ì½”ë“œ ê°„ì†Œí™”**: 2ê°œ íŒŒì¼ â†’ 1ê°œ íŒŒì¼ë¡œ í†µí•©
  - âœ… **ìœ ì§€ë³´ìˆ˜ í–¥ìƒ**: ë‹¨ì¼ í´ëž˜ìŠ¤ì—ì„œ ëª¨ë“  ë°ì´í„° ìˆ˜ì§‘ ê´€ë¦¬
  - âœ… **ì„±ëŠ¥ ìµœì í™”**: ë¶ˆí•„ìš”í•œ ëª¨ë“ˆ ë¡œë”© ì œê±°
  - âœ… **í™•ìž¥ì„± ì¦ëŒ€**: ìƒˆë¡œìš´ ë°ì´í„° ì†ŒìŠ¤ ì¶”ê°€ ìš©ì´

- **ëª¨ë“ˆ êµ¬ì¡°**:
  ```
  korea_stock_auto/data/
  â”œâ”€â”€ hybrid_data_collector.py  # í†µí•© ë°ì´í„° ìˆ˜ì§‘ê¸° (API + í¬ë¡¤ëŸ¬)
  â”œâ”€â”€ crawlers/
  â”‚   â””â”€â”€ __init__.py           # HybridDataCollector ì°¸ì¡°
  â””â”€â”€ database/
      â””â”€â”€ price_data.py         # ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬
  ```

### ì‹¤ê±°ëž˜ API ì „í™˜ ë° ì¼ìžë³„ ì‹œì„¸ ì¡°íšŒ ìˆ˜ì • (2025-05-23)

ì‹¤ê±°ëž˜ ê³„ì¢Œë¡œ ì „í™˜í•˜ê³  ì¼ìžë³„ ì‹œì„¸ ì¡°íšŒ APIë¥¼ ì™„ì „ížˆ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤:

- **ì‹¤ê±°ëž˜ API ì „í™˜**:
  - `config.yaml`ì—ì„œ `USE_REALTIME_API: true`ë¡œ ì„¤ì •í•˜ì—¬ ì‹¤ê±°ëž˜ ê³„ì¢Œë¡œ ì „í™˜
  - ëª¨ì˜íˆ¬ìž ê³„ì¢Œì—ì„œ ì‹¤ê±°ëž˜ ê³„ì¢Œë¡œ ë³€ê²½í•˜ì—¬ ì •í™•í•œ ìž”ê³  ë° ê±°ëž˜ ì •ë³´ í™•ì¸ ê°€ëŠ¥

- **ì¼ìžë³„ ì‹œì„¸ ì¡°íšŒ API ìˆ˜ì • (historical_price.py)**:
  - í•œêµ­íˆ¬ìžì¦ê¶Œ API ë¬¸ì„œì— ë”°ë¼ TR_ID `FHKST01010400` ì‚¬ìš© í™•ì¸
  - URL ê²½ë¡œ: `/uapi/domestic-stock/v1/quotations/inquire-daily-price`
  - API ì‘ë‹µ êµ¬ì¡° ë¶„ì„: `output2` â†’ `output`ìœ¼ë¡œ ìˆ˜ì •í•˜ì—¬ ì˜¬ë°”ë¥¸ ë°ì´í„° ì¶”ì¶œ
  - í—¤ë” í‚¤ ì´ë¦„ ìˆ˜ì •: `appKey` â†’ `appkey`, `appSecret` â†’ `appsecret`
  - ì˜ì–´ ê¸°ë°˜ íŒŒë¼ë¯¸í„°ëª… ì‚¬ìš©: `content-type: application/json; charset=utf-8`

- **ë¶„ë´‰ ë°ì´í„° ì¡°íšŒ ê°œì„ **:
  - ìž˜ëª»ëœ TR_ID `FHKST01010600` â†’ `FHKST01010400`ìœ¼ë¡œ ìˆ˜ì •
  - ì¼ìžë³„ ì‹œì„¸ì™€ ë™ì¼í•œ API ì—”ë“œí¬ì¸íŠ¸ ì‚¬ìš©í•˜ë„ë¡ í†µí•©
  - ë¶„ë´‰ ê°„ê²©ë³„ íŒŒë¼ë¯¸í„° ì„¤ì • ê°œì„ 

- **ê¸°ìˆ ì  ë¶„ì„ ì§€í‘œ ê³„ì‚° ë¬¸ì œ í•´ê²°**:
  - OHLCV ë°ì´í„° ì¡°íšŒ ì„±ê³µìœ¼ë¡œ ì¸í•´ ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚° ì •ìƒí™”
  - MA, RSI, MACD ë“± ê¸°ìˆ ì  ì§€í‘œê°€ ì˜¬ë°”ë¥´ê²Œ ê³„ì‚°ë˜ë„ë¡ ìˆ˜ì •

- **API ë””ë²„ê¹… ê¸°ëŠ¥ ì¶”ê°€ ë° ì œê±°**:
  - API ì‘ë‹µ ì „ì²´ë¥¼ ë¡œê·¸ë¡œ ì¶œë ¥í•˜ì—¬ ë¬¸ì œì  íŒŒì•…
  - ë¬¸ì œ í•´ê²° í›„ ë¶ˆí•„ìš”í•œ ë””ë²„ê¹… ì½”ë“œ ì œê±°í•˜ì—¬ ë¡œê·¸ ì •ë¦¬

- **ê°œì„  íš¨ê³¼**:
  - ì¼ìžë³„ ì‹œì„¸ ì¡°íšŒ ì„±ê³µ: `ì¼ìžë³„ ì‹œì„¸ ì¡°íšŒ ì„±ê³µ: 000720, ë°ì´í„° ê±´ìˆ˜: 30`
  - ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚° ì •ìƒí™”: `ê¸°ìˆ ì  ë¶„ì„ ì§€í‘œ ê³„ì‚° ì„±ê³µ`
  - ì‹¤ê±°ëž˜ ê³„ì¢Œ ìž”ê³  ì •ìƒ ì¡°íšŒ ê°€ëŠ¥
  - ë¶„ë´‰ ë°ì´í„° ì¡°íšŒ ì•ˆì •ì„± í–¥ìƒ

### ETF í•„í„°ë§ ë° í˜¸ê°€ ì¡°íšŒ ê¸°ëŠ¥ ê°œì„  (2025-05-19)

ETF í•„í„°ë§ ë° í˜¸ê°€ ì¡°íšŒ ê´€ë ¨ ê¸°ëŠ¥ì„ ê°œì„ í–ˆìŠµë‹ˆë‹¤:

- **ETF ì¢…ëª© í•„í„°ë§ ê¸°ëŠ¥**:
  - `is_etf_stock()` í•¨ìˆ˜ ì¶”ê°€í•˜ì—¬ ETF ì¢…ëª© íŒë³„ ê¸°ëŠ¥ ì œê³µ
  - ETF ì¢…ëª©ì„ ê´€ì‹¬ì¢…ëª©ì—ì„œ ì œì™¸í•˜ëŠ” ì˜µì…˜ ì¶”ê°€ (`EXCLUDE_ETF` ì„¤ì •)
  - ì‹œìž¥ êµ¬ë¶„ ì½”ë“œ 'J'(ì£¼ì‹)ì™€ 'E'(ETF)ë¥¼ ì ì ˆížˆ êµ¬ë¶„í•˜ì—¬ API í˜¸ì¶œ

- **í˜¸ê°€ ì¡°íšŒ ê¸°ëŠ¥ ìˆ˜ì •**:
  - ì˜ˆìƒ ì²´ê²°ê°€ í˜¸ê°€ ì¡°íšŒ ê´€ë ¨ ì˜¤ë¥˜ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ í˜¸ê°€ ì¡°íšŒ ê¸°ëŠ¥ ì œê±°
  - í˜„ìž¬ê°€ ì¡°íšŒ ê²°ê³¼ë§Œìœ¼ë¡œ ë§¤ë§¤ì— í•„ìš”í•œ ì •ë³´ë¥¼ ì œê³µí•˜ë„ë¡ ê¸°ëŠ¥ ê°œì„ 
  - `get_real_time_price_by_api()` í•¨ìˆ˜ê°€ í˜„ìž¬ê°€ ì •ë³´ë§Œ ì‚¬ìš©í•˜ë„ë¡ ìˆ˜ì •

- **ê°œì„  íš¨ê³¼**:
  - API í˜¸ì¶œ ì„±ê³µë¥  í–¥ìƒ
  - ETFì™€ ê°œë³„ ì£¼ì‹ ì¢…ëª© ê°„ êµ¬ë¶„ ëª…í™•í™”
  - í˜¸ê°€ ì •ë³´ ì¡°íšŒ ì‹¤íŒ¨ë¡œ ì¸í•œ ë§¤ë§¤ ì˜¤ë¥˜ ë°©ì§€

### ê°•í™”í•™ìŠµ ëª¨ë“ˆ ëª¨ë“ˆí™” ìž‘ì—… (2025-05-13)

ê°•í™”í•™ìŠµ ê´€ë ¨ ëª¨ë“ˆë“¤ì„ ë” ìž‘ì€ ë‹¨ìœ„ë¡œ ëª¨ë“ˆí™”í•˜ì—¬ ì½”ë“œ êµ¬ì¡°ë¥¼ ê°œì„ í–ˆìŠµë‹ˆë‹¤:

- **rl_models ë””ë ‰í† ë¦¬ ëª¨ë“ˆí™”**:
  - ê¸°ì¡´ `rl_model.py` íŒŒì¼ì„ ì—¬ëŸ¬ ëª¨ë“ˆë¡œ ë¶„ë¦¬
  - `environment.py`: TradingEnvironment í´ëž˜ìŠ¤ ì •ì˜
  - `model.py`: RLModel í´ëž˜ìŠ¤ ì •ì˜
  - `ensemble.py`: ModelEnsemble í´ëž˜ìŠ¤ ì •ì˜
  - `__init__.py`: í†µí•© ì¸í„°íŽ˜ì´ìŠ¤ ì œê³µ

- **training ë””ë ‰í† ë¦¬ ëª¨ë“ˆí™”**:
  - ê¸°ì¡´ `trainer.py` íŒŒì¼ì„ ì—¬ëŸ¬ ëª¨ë“ˆë¡œ ë¶„ë¦¬
  - `base_trainer.py`: ê¸°ë³¸ íŠ¸ë ˆì´ë„ˆ í´ëž˜ìŠ¤ì™€ ê³µí†µ ê¸°ëŠ¥
  - `callbacks.py`: ì½œë°± ê´€ë ¨ ì½”ë“œ (SaveOnBestTrainingRewardCallback, EarlyStoppingCallback)
  - `evaluation.py`: ëª¨ë¸ í‰ê°€ ê´€ë ¨ ê¸°ëŠ¥ (ModelEvaluator)
  - `pipeline.py`: ì „ì²´ í•™ìŠµ íŒŒì´í”„ë¼ì¸ ê¸°ëŠ¥ (TrainingPipeline)
  - `__init__.py`: í†µí•© ì¸í„°íŽ˜ì´ìŠ¤ì™€ ê°„ì†Œí™”ëœ train_model í•¨ìˆ˜ ì œê³µ

- **rl_dataì™€ data/database ëª¨ë“ˆ í†µí•©**:
  - ì¤‘ë³µ ê¸°ëŠ¥ ì œê±° ë° í†µí•©
  - `technical_indicators.py`ì™€ `rl_data_manager.py` íŒŒì¼ì„ ë¦¬íŒ©í† ë§í•˜ì—¬ `data/database` ëª¨ë“ˆ í™œìš©

- **ê°œì„  íš¨ê³¼**:
  - ì½”ë“œ ê°€ë…ì„± ë° ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ
  - ê¸°ëŠ¥ë³„ ëª¨ë“ˆ ë¶„ë¦¬ë¡œ ê° ì»´í¬ë„ŒíŠ¸ì˜ ì±…ìž„ ëª…í™•í™”
  - í™•ìž¥ì„± ë° í…ŒìŠ¤íŠ¸ ìš©ì´ì„± í–¥ìƒ
  - ì½”ë“œ ìž¬ì‚¬ìš© ë° ì¤‘ë³µ ì œê±°

### ì›¹ì†Œì¼“ ëª¨ë“ˆ ëª¨ë“ˆí™” ìž‘ì—… (2025-05-12)

ì›¹ì†Œì¼“ ê´€ë ¨ ì½”ë“œë¥¼ ëª¨ë“ˆí™”í•˜ì—¬ ì½”ë“œ êµ¬ì¡°ë¥¼ ê°œì„ í–ˆìŠµë‹ˆë‹¤:

- **ì›¹ì†Œì¼“ ëª¨ë“ˆ ë¶„ë¦¬**:
  - ê¸°ì¡´ `websocket.py` íŒŒì¼ì„ ì—¬ëŸ¬ ëª¨ë“ˆë¡œ ë¶„ë¦¬í•˜ì—¬ ë‹¨ì¼ ì±…ìž„ ì›ì¹™ ì¤€ìˆ˜
  - `connection_manager.py`: ì›¹ì†Œì¼“ ì—°ê²° ê´€ë¦¬ ê¸°ëŠ¥
  - `subscription_manager.py`: ì¢…ëª© êµ¬ë…/í•´ì§€ ê´€ë¦¬ ê¸°ëŠ¥
  - `data_processor.py`: ì‹¤ì‹œê°„ ì‹œì„¸ ë°ì´í„° ì²˜ë¦¬ ê¸°ëŠ¥
  - `stock_websocket.py`: ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ í†µí•©í•˜ëŠ” ë©”ì¸ í´ëž˜ìŠ¤

- **ìˆœí™˜ ì°¸ì¡° ë¬¸ì œ í•´ê²°**:
  - `TYPE_CHECKING` ë°©ì‹ì„ ì‚¬ìš©í•˜ì—¬ ëª¨ë“  ëª¨ë“ˆì—ì„œ ìˆœí™˜ ì°¸ì¡° ë¬¸ì œ í•´ê²°
  - íƒ€ìž… ížŒíŠ¸ë¥¼ ìœ„í•œ ìž„í¬íŠ¸ëŠ” ëŸ°íƒ€ìž„ì— ì‹¤í–‰ë˜ì§€ ì•Šë„ë¡ ì²˜ë¦¬

- **ê°œì„  íš¨ê³¼**:
  - ì½”ë“œ ê°€ë…ì„± ë° ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ
  - ê¸°ëŠ¥ë³„ ëª¨ë“ˆ ë¶„ë¦¬ë¡œ í…ŒìŠ¤íŠ¸ ìš©ì´ì„± ì¦ê°€
  - ê° ì»´í¬ë„ŒíŠ¸ì˜ ì±…ìž„ ëª…í™•í™”
  - í™•ìž¥ì„± í–¥ìƒ

### API í´ë¼ì´ì–¸íŠ¸ ëª¨ë“ˆ ì¶”ê°€ í™•ìž¥ (2025-05-16)

API í´ë¼ì´ì–¸íŠ¸ ëª¨ë“ˆì— ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤:

- **ìƒˆë¡œìš´ API ëª¨ë“ˆ ì¶”ê°€**:
  - `market/balance_sheet.py`: ê¸°ì—… ìž¬ë¬´ìƒíƒœí‘œ ì¡°íšŒ ê¸°ëŠ¥
  - `market/basic_info.py`: ê¸°ì—… ê¸°ë³¸ ì •ë³´ ì¡°íšŒ ê¸°ëŠ¥
  - `market/financial_ratios.py`: ê¸°ì—… ìž¬ë¬´ë¹„ìœ¨ ì¡°íšŒ ê¸°ëŠ¥

- **ê°œì„  íš¨ê³¼**:
  - ê¸°ì—… ìž¬ë¬´ ë°ì´í„° í™œìš© ê°€ëŠ¥
  - íŽ€ë”ë©˜í„¸ ë¶„ì„ì„ ìœ„í•œ ë°ì´í„° ì ‘ê·¼ì„± í–¥ìƒ
  - ê°•í™”í•™ìŠµ ëª¨ë¸ì— ìž¬ë¬´ ë°ì´í„° í†µí•© ê°€ëŠ¥

### ê°•í™”í•™ìŠµ ë°ì´í„° ì²˜ë¦¬ ì½”ë“œ ë¦¬íŒ©í† ë§ (2025-05-15)

ê°•í™”í•™ìŠµ ë°ì´í„° ì²˜ë¦¬ ëª¨ë“ˆì„ ë¦¬íŒ©í† ë§í•˜ì—¬ ì½”ë“œ êµ¬ì¡°ë¥¼ ê°œì„ í–ˆìŠµë‹ˆë‹¤:

- **ë°ì´í„° ì²˜ë¦¬ ëª¨ë“ˆ ë¶„ë¦¬**:
  - ê¸°ì¡´ `data_processor.py` (647ì¤„)ë¥¼ ì—¬ëŸ¬ ëª¨ë“ˆë¡œ ë¶„ë¦¬í•˜ì—¬ ë‹¨ì¼ ì±…ìž„ ì›ì¹™ ì¤€ìˆ˜
  - `data_preprocessor.py`: ê¸°ë³¸ ë°ì´í„° ë¡œë”© ë° ì •ì œ ê¸°ëŠ¥
  - `technical_indicators.py`: ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚° ê¸°ëŠ¥
  - `data_normalizer.py`: ë°ì´í„° ì •ê·œí™” ê¸°ëŠ¥
  - `sequence_generator.py`: ì‹œê³„ì—´ ì‹œí€€ìŠ¤ ìƒì„± ê¸°ëŠ¥
  - `market_data_integrator.py`: ì‹œìž¥ ë°ì´í„° í†µí•© ê¸°ëŠ¥
  - `rl_data_manager.py`: ì „ì²´ ë°ì´í„° íŒŒì´í”„ë¼ì¸ ê´€ë¦¬ ê¸°ëŠ¥

- **ìˆ˜ì • íš¨ê³¼**:
  - ì½”ë“œ ê°€ë…ì„± ë° ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ
  - ê°œë³„ ë°ì´í„° ì²˜ë¦¬ ê¸°ëŠ¥ì— ëŒ€í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ìš©ì´
  - ë¡œì§ ë¶„ë¦¬ë¥¼ í†µí•œ ì½”ë“œ ìž¬ì‚¬ìš©ì„± ê°•í™”
  - ìƒˆë¡œìš´ ë°ì´í„° ì²˜ë¦¬ ê¸°ëŠ¥ ì¶”ê°€ê°€ ìš©ì´í•´ì§

### API ë””ë ‰í† ë¦¬ ì¤‘ë³µ ê¸°ëŠ¥ ê°œì„  (2025-05-12)

API ë””ë ‰í† ë¦¬ì˜ ì¤‘ë³µ ê¸°ëŠ¥ì„ í™•ì¸í•˜ê³  ê°œì„ í–ˆìŠµë‹ˆë‹¤:

- **ì¤‘ë³µ í•¨ìˆ˜ í†µí•©**:
  - `fetch_stock_current_price()`ì™€ `get_real_time_price_by_api()` í•¨ìˆ˜ì˜ ì¤‘ë³µ ê¸°ëŠ¥ í†µí•©
  - `get_real_time_price_by_api()` í•¨ìˆ˜ë¥¼ ì§ì ‘ APIë¥¼ í˜¸ì¶œí•˜ë„ë¡ ìˆ˜ì •
  - `fetch_stock_current_price()` í•¨ìˆ˜ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ `get_real_time_price_by_api()`ë¥¼ í˜¸ì¶œí•˜ë„ë¡ ë³€ê²½

- **ê°œì„  íš¨ê³¼**:
  - ì½”ë“œ ì¤‘ë³µ ì œê±°
  - API í˜¸ì¶œ ì¼ê´€ì„± í–¥ìƒ
  - ê¸°ëŠ¥ í™•ìž¥ ì‹œ í•œ ê³³ì—ì„œë§Œ ìˆ˜ì • í•„ìš”
  - ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ

### ì½”ë“œ ì˜¤ë¥˜ ìˆ˜ì • ë° ì¢…ì†ì„± ì¶”ê°€ (2025-05-12)

ê°•í™”í•™ìŠµ ëª¨ë“ˆì˜ ì˜¤ë¥˜ë¥¼ ìˆ˜ì •í•˜ê³  ì¢…ì†ì„±ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤:

- **ëˆ„ë½ëœ ìž„í¬íŠ¸ ì¶”ê°€**:
  - `rl_models/rl_model.py`ì— `pandas` ìž„í¬íŠ¸ ì¶”ê°€
  - `training/trainer.py`ì— `pickle` ìž„í¬íŠ¸ ì¶”ê°€
  - `training/trainer.py`ì— `select_features`ì™€ `get_state_dim` í•¨ìˆ˜ ìž„í¬íŠ¸ ì¶”ê°€

- **ì˜¤ë¥˜ ìˆ˜ì • íš¨ê³¼**:
  - ê°•í™”í•™ìŠµ ëª¨ë¸ì˜ í•™ìŠµ ë° ì˜ˆì¸¡ ê¸°ëŠ¥ì´ ì •ìƒì ìœ¼ë¡œ ìž‘ë™
  - íŠ¹ì„± ì„ íƒ ëª¨ë“ˆê³¼ì˜ ì—°ë™ ê°•í™”
  - ëª¨ë¸ ì €ìž¥ ë° ë¡œë“œ ê¸°ëŠ¥ ì •ìƒí™”

### API ë°ì´í„° í™œìš© ë° ìºì‹± ë©”ì»¤ë‹ˆì¦˜ ê°•í™” (2025-05-11)

APIë¥¼ í†µí•œ ë°ì´í„° ìˆ˜ì§‘ ë° ìºì‹± ë©”ì»¤ë‹ˆì¦˜ì„ ê°•í™”í–ˆìŠµë‹ˆë‹¤:

- **API í˜¸ì¶œ ê¸°ëŠ¥ ê°•í™”**:
  - `get_volume_increasing_stocks()`: ê±°ëž˜ëŸ‰ ê¸‰ì¦ ì¢…ëª© ì¡°íšŒ API í•¨ìˆ˜ ì¶”ê°€
  - `get_real_time_price_by_api()`: í˜„ìž¬ê°€ í˜¸ê°€ í†µí•© ì¡°íšŒ í•¨ìˆ˜ ì¶”ê°€
  - API ë°ì´í„°ë¥¼ ê°•í™”í•™ìŠµì— í™œìš©í•  ìˆ˜ ìžˆë„ë¡ ì „ì²˜ë¦¬ ê¸°ëŠ¥ ì¶”ê°€

- **ë°ì´í„° ìºì‹± ë©”ì»¤ë‹ˆì¦˜ êµ¬í˜„**:
  - API í˜¸ì¶œ ê²°ê³¼ë¥¼ ë¡œì»¬ JSON íŒŒì¼ë¡œ ì €ìž¥
  - ì‹œê°„ ê¸°ë°˜ ìœ íš¨ì„± ê²€ì‚¬ ì ìš© (í˜„ìž¬ê°€: 1ì‹œê°„, ê±°ëž˜ëŸ‰ ìˆœìœ„: 24ì‹œê°„)
  - API ìž¥ì•  ì‹œ ìºì‹œ ë°ì´í„° í™œìš©ìœ¼ë¡œ ì•ˆì •ì„± í–¥ìƒ

- **ê°•í™”í•™ìŠµ ëª¨ë“ˆ ê°œì„ **:
  - API ë°ì´í„°ë¥¼ ê°•í™”í•™ìŠµì— í™œìš©í•  ìˆ˜ ìžˆë„ë¡ íŠ¹ì„±í™”
  - `api_enhanced` íŠ¹ì„± ì„¸íŠ¸ ì¶”ê°€ (ê¸°ë³¸ íŠ¹ì„± + API ë°ì´í„° íŠ¹ì„±)
  - ì‹œìž¥ ì••ë ¥, ë§¤ìˆ˜/ë§¤ë„ ë¹„ìœ¨ ë“± API ë°ì´í„° ê¸°ë°˜ íŠ¹ì„± í™œìš©

### API í´ë¼ì´ì–¸íŠ¸ ëª¨ë“ˆ ë¦¬íŒ©í† ë§ (2025-05-10)

API í´ë¼ì´ì–¸íŠ¸(`api_client.py`) íŒŒì¼ì„ ê¸°ëŠ¥ë³„ë¡œ ì„¸ë¶„í™”í•˜ì—¬ ëª¨ë“ˆí™”í–ˆìŠµë‹ˆë‹¤:

- **ëª¨ë“ˆí™”ëœ êµ¬ì¡°**:
  - `base/client.py`: ê¸°ë³¸ API í´ë¼ì´ì–¸íŠ¸ í´ëž˜ìŠ¤ ì •ì˜
  - `account/**`: ê³„ì¢Œ ê´€ë ¨ ê¸°ëŠ¥
    - **balance.py**: ê³„ì¢Œ ìž”ê³  ê´€ë ¨ ê¸°ëŠ¥
    - **deposit.py**: ê³„ì¢Œ ì˜ˆìˆ˜ê¸ˆ ê´€ë ¨ ê¸°ëŠ¥
  - **market/**: ì‹œìž¥ ë°ì´í„° ê´€ë ¨ ê¸°ëŠ¥
    - **price.py**: ì‹œìž¥ ê°€ê²© ì¡°íšŒ ê¸°ëŠ¥
    - **chart.py**: ì°¨íŠ¸ ë°ì´í„° ì¡°íšŒ ê¸°ëŠ¥
    - **stock_info.py**: ì£¼ì‹ ê¸°ë³¸ ì •ë³´ ì¡°íšŒ ê¸°ëŠ¥
    - **balance_sheet.py**: ê¸°ì—… ìž¬ë¬´ìƒíƒœí‘œ ì¡°íšŒ ê¸°ëŠ¥
    - **basic_info.py**: ê¸°ì—… ê¸°ë³¸ ì •ë³´ ì¡°íšŒ ê¸°ëŠ¥
    - **financial_ratios.py**: ê¸°ì—… ìž¬ë¬´ë¹„ìœ¨ ì¡°íšŒ ê¸°ëŠ¥
  - **order/**: ì£¼ë¬¸ ê´€ë ¨ ê¸°ëŠ¥
    - **stock.py**: ì£¼ì‹ ì£¼ë¬¸ ê´€ë ¨ ê¸°ëŠ¥
    - **status.py**: ì£¼ë¬¸ ìƒíƒœ ì¡°íšŒ ê¸°ëŠ¥
  - **sector/**: ì—…ì¢… ê´€ë ¨ ê¸°ëŠ¥
    - **index.py**: ì—…ì¢… ì§€ìˆ˜ ê´€ë ¨ ê¸°ëŠ¥
    - **info.py**: ì—…ì¢… ì •ë³´ ê´€ë ¨ ê¸°ëŠ¥
- **auth.py**: API ì¸ì¦ ë° í† í° ê´€ë¦¬
- **websocket/**: ì‹¤ì‹œê°„ ì‹œì„¸ ìˆ˜ì‹ ì„ ìœ„í•œ ì›¹ì†Œì¼“ í´ë¼ì´ì–¸íŠ¸ (ëª¨ë“ˆí™”ë¨)
  - **connection_manager.py**: ì›¹ì†Œì¼“ ì—°ê²° ê´€ë¦¬ ê¸°ëŠ¥
  - **subscription_manager.py**: ì¢…ëª© êµ¬ë…/í•´ì§€ ê´€ë¦¬ ê¸°ëŠ¥
  - **data_processor.py**: ì‹¤ì‹œê°„ ì‹œì„¸ ë°ì´í„° ì²˜ë¦¬ ê¸°ëŠ¥
  - **stock_websocket.py**: ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ í†µí•©í•˜ëŠ” ë©”ì¸ í´ëž˜ìŠ¤

### 2. ë°ì´í„° ëª¨ë“ˆ (data/)

- **database.py**: ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ ë° ì¿¼ë¦¬ ì‹¤í–‰

### 3. ëª¨ë¸ ëª¨ë“ˆ (models/)

- **model_manager.py**: ëª¨ë¸ ê´€ë¦¬ ì¸í„°íŽ˜ì´ìŠ¤
- **models.py**: ê¸°ë³¸ ëª¨ë¸ í´ëž˜ìŠ¤ ì •ì˜

### 4. íŠ¸ë ˆì´ë”© ëª¨ë“ˆ (trading/)

- **trader.py**: ë§¤ë§¤ ë¡œì§ ë° ì „ëžµ êµ¬í˜„

### 5. ìœ í‹¸ë¦¬í‹° ëª¨ë“ˆ (utils/)

- **utils.py**: ê³µí†µ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ëª¨ìŒ
- **db_helper.py**: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í—¬í¼ í•¨ìˆ˜

### 6. ê°•í™”í•™ìŠµ ëª¨ë“ˆ (reinforcement/)

- **rl_data/**: ê°•í™”í•™ìŠµ ë°ì´í„° ì²˜ë¦¬ ëª¨ë“ˆ (ë¦¬íŒ©í† ë§ ì™„ë£Œ)
  - **data_fetcher.py**: ë°ì´í„° ìˆ˜ì§‘ ë° ê°€ì ¸ì˜¤ê¸°
  - **data_preprocessor.py**: ê¸°ë³¸ ë°ì´í„° ë¡œë”© ë° ì •ì œ
  - **technical_indicators.py**: ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°
  - **data_normalizer.py**: ë°ì´í„° ì •ê·œí™”
  - **sequence_generator.py**: ì‹œê³„ì—´ ì‹œí€€ìŠ¤ ìƒì„±
  - **market_data_integrator.py**: ì‹œìž¥ ë°ì´í„° í†µí•©
  - **rl_data_manager.py**: ì „ì²´ ë°ì´í„° íŒŒì´í”„ë¼ì¸ ê´€ë¦¬
- **rl_models/**: ê°•í™”í•™ìŠµ ëª¨ë¸ ëª¨ë“ˆ (ëª¨ë“ˆí™” ì™„ë£Œ)
  - **environment.py**: OpenAI Gym ê¸°ë°˜ íŠ¸ë ˆì´ë”© í™˜ê²½
  - **model.py**: ê°•í™”í•™ìŠµ ëª¨ë¸ ëž˜í¼ í´ëž˜ìŠ¤
  - **ensemble.py**: ëª¨ë¸ ì•™ìƒë¸” í´ëž˜ìŠ¤
  - **features.py**: íŠ¹ì„± ì„ íƒ ë° ì²˜ë¦¬ ê¸°ëŠ¥
  - **__init__.py**: í†µí•© ì¸í„°íŽ˜ì´ìŠ¤
- **rl_utils/model_utils.py**: ëª¨ë¸ ê´€ë¦¬ ìœ í‹¸ë¦¬í‹°
- **training/**: ëª¨ë¸ í•™ìŠµ ë° í‰ê°€ ëª¨ë“ˆ (ëª¨ë“ˆí™” ì™„ë£Œ)
  - **base_trainer.py**: ê¸°ë³¸ íŠ¸ë ˆì´ë‹ ê¸°ëŠ¥ ì œê³µ
  - **callbacks.py**: ì½œë°± ê´€ë ¨ ì½”ë“œ
  - **evaluation.py**: ëª¨ë¸ í‰ê°€ ê´€ë ¨ ê¸°ëŠ¥
  - **pipeline.py**: ì „ì²´ í•™ìŠµ ê³¼ì • ê´€ë¦¬
  - **__init__.py**: í†µí•© ì¸í„°íŽ˜ì´ìŠ¤ì™€ ê°„ì†Œí™”ëœ í•¨ìˆ˜
- **main.py**: ê°•í™”í•™ìŠµ ë©”ì¸ ì‹¤í–‰ íŒŒì¼

## ê°•í™”í•™ìŠµ ëª¨ë“ˆ ìƒì„¸ ì„¤ëª…

### 1. ë°ì´í„° ì „ì²˜ë¦¬ (rl_data/ ëª¨ë“ˆ)

ê°•í™”í•™ìŠµ ë°ì´í„° ì „ì²˜ë¦¬ ëª¨ë“ˆì€ ë‹¤ìŒê³¼ ê°™ì´ ë¶„ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤:

- **data_preprocessor.py**: ê¸°ë³¸ ë°ì´í„° ë¡œë”©, ì •ì œ ë° ì „ì²˜ë¦¬
- **technical_indicators.py**: ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚° ë° ì¶”ê°€
- **data_normalizer.py**: ë°ì´í„° ì •ê·œí™”
- **sequence_generator.py**: ì‹œê³„ì—´ ì‹œí€€ìŠ¤ ìƒì„±
- **market_data_integrator.py**: ì‹œìž¥ ë°ì´í„° í†µí•©
- **rl_data_manager.py**: ì „ì²´ ë°ì´í„° íŒŒì´í”„ë¼ì¸ ê´€ë¦¬

**ì£¼ìš” ê¸°ëŠ¥:**

- **ê¸°ìˆ ì  ì§€í‘œ ì¶”ê°€**: ì£¼ê°€ ë°ì´í„°ì— ê¸°ìˆ ì  ì§€í‘œ(ì´ë™í‰ê· ì„ , RSI, MACD, ë³¼ë¦°ì € ë°´ë“œ ë“±)ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
- **ë°ì´í„° ì •ê·œí™”**: ì„œë¡œ ë‹¤ë¥¸ ìŠ¤ì¼€ì¼ì„ ê°€ì§„ ë°ì´í„°ë¥¼ 0~1 ë²”ìœ„ë¡œ ì •ê·œí™”í•˜ì—¬ í•™ìŠµ íš¨ìœ¨ì„ ë†’ìž…ë‹ˆë‹¤.
- **ì‹œê³„ì—´ ì‹œí€€ìŠ¤ ìƒì„±**: ê³¼ê±° nì¼ì¹˜ ë°ì´í„°ë¥¼ ë¬¶ì–´ ì‹œê³„ì—´ ì‹œí€€ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
- **ìƒíƒœ ë²¡í„° ì¤€ë¹„**: í˜„ìž¬ ì‹œìž¥ ìƒíƒœë¥¼ ëª¨ë¸ì´ ì´í•´í•  ìˆ˜ ìžˆëŠ” ë²¡í„° í˜•íƒœë¡œ ë³€í™˜í•©ë‹ˆë‹¤.

**ë°ì´í„° ê°€ê³µ ê³¼ì •:**

1. ì›ì‹œ OHLCV(ì‹œê°€, ê³ ê°€, ì €ê°€, ì¢…ê°€, ê±°ëž˜ëŸ‰) ë°ì´í„° ë¡œë“œ
2. ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚° ë° ì¶”ê°€
3. ì´ìƒì¹˜ì™€ ê²°ì¸¡ê°’ ì²˜ë¦¬
4. MinMaxScalerë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„° ì •ê·œí™”
5. í•™ìŠµì— ì‚¬ìš©í•  ì‹œí€€ìŠ¤ ë°ì´í„° ìƒì„±
6. ì˜ˆì¸¡ì— ì‚¬ìš©í•  í˜„ìž¬ ìƒíƒœ ë²¡í„° ìƒì„±

### 2. ê°•í™”í•™ìŠµ ëª¨ë¸ (rl_models/)

ê°•í™”í•™ìŠµ ëª¨ë¸ ëª¨ë“ˆì€ íŠ¸ë ˆì´ë”© í™˜ê²½ ì •ì˜ì™€ ëª¨ë¸ êµ¬í˜„ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.

**ì£¼ìš” í´ëž˜ìŠ¤:**

- **TradingEnvironment** (`environment.py`): OpenAI Gym ê¸°ë°˜ì˜ íŠ¸ë ˆì´ë”© í™˜ê²½
- **RLModel** (`model.py`): ê°•í™”í•™ìŠµ ëª¨ë¸ ì¸í„°íŽ˜ì´ìŠ¤
- **ModelEnsemble** (`ensemble.py`): ì—¬ëŸ¬ ëª¨ë¸ì„ ì•™ìƒë¸”í•˜ëŠ” í´ëž˜ìŠ¤

**TradingEnvironment ìž‘ë™ ì›ë¦¬:**

1. í™˜ê²½ì€ ì£¼ê°€ ë°ì´í„°ì™€ ì—ì´ì „íŠ¸ì˜ í¬íŠ¸í´ë¦¬ì˜¤ ìƒíƒœë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
2. ì•¡ì…˜ ê³µê°„: 0(í™€ë“œ), 1(ë§¤ìˆ˜), 2(ë§¤ë„)
3. ê´€ì°° ê³µê°„: ì£¼ê°€ ë°ì´í„° + ê¸°ìˆ ì  ì§€í‘œ + í¬íŠ¸í´ë¦¬ì˜¤ ìƒíƒœ
4. ë³´ìƒ í•¨ìˆ˜: ê±°ëž˜ ì™„ë£Œ ì‹œ ìˆ˜ìµë¥  ê¸°ë°˜ ë³´ìƒ + í™€ë”© íŒ¨ë„í‹°

**ì§€ì› ëª¨ë¸ ìœ í˜•:**

- PPO (Proximal Policy Optimization)
- A2C (Advantage Actor-Critic)
- DQN (Deep Q-Network)

**ì•™ìƒë¸” ë©”ì»¤ë‹ˆì¦˜:**

- ì—¬ëŸ¬ ëª¨ë¸ì˜ ì˜ˆì¸¡ì„ ê°€ì¤‘ì¹˜ì— ë”°ë¼ ê²°í•©í•˜ì—¬ ìµœì¢… ê²°ì • ë„ì¶œ
- ì„±ê³¼ê°€ ì¢‹ì€ ëª¨ë¸ì— ë” ë†’ì€ ê°€ì¤‘ì¹˜ ë¶€ì—¬
- ë‹¤ì–‘í•œ ëª¨ë¸ ì¡°í•©ìœ¼ë¡œ ì˜ˆì¸¡ ì•ˆì •ì„± í–¥ìƒ

### 3. ëª¨ë¸ í•™ìŠµ ë° í‰ê°€ (training/)

ëª¨ë¸ í•™ìŠµ ë° í‰ê°€ ëª¨ë“ˆì€ ê°•í™”í•™ìŠµ ëª¨ë¸ì˜ í•™ìŠµê³¼ ì„±ëŠ¥ í‰ê°€ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.

**ì£¼ìš” ì»´í¬ë„ŒíŠ¸:**

- **BaseTrainer** (`base_trainer.py`): ê¸°ë³¸ íŠ¸ë ˆì´ë‹ ê¸°ëŠ¥ ì œê³µ
- **ModelEvaluator** (`evaluation.py`): í•™ìŠµëœ ëª¨ë¸ì˜ ì„±ëŠ¥ í‰ê°€
- **TrainingPipeline** (`pipeline.py`): ì „ì²´ í•™ìŠµ ê³¼ì • ê´€ë¦¬
- **ê°ì¢… ì½œë°±** (`callbacks.py`): í•™ìŠµ ì¤‘ íŠ¹ì • ìƒí™©ì—ì„œ ë™ìž‘í•˜ëŠ” ì½œë°± í•¨ìˆ˜ë“¤

**ì£¼ìš” ê¸°ëŠ¥:**

- **ë°ì´í„° ë¡œë“œ**: ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ í•™ìŠµ ë°ì´í„° ë¡œë“œ
- **ë°ì´í„°ì…‹ ì¤€ë¹„**: í•™ìŠµ/í…ŒìŠ¤íŠ¸ ë°ì´í„° ë¶„í•  ë° ì „ì²˜ë¦¬
- **ëª¨ë¸ í•™ìŠµ**: ë‹¤ì–‘í•œ íŒŒë¼ë¯¸í„°ë¡œ ëª¨ë¸ í•™ìŠµ
- **ëª¨ë¸ í‰ê°€**: ë°±í…ŒìŠ¤íŠ¸ë¥¼ í†µí•œ ëª¨ë¸ ì„±ëŠ¥ í‰ê°€
- **ê²°ê³¼ ì‹œê°í™”**: ì„±ëŠ¥ ì§€í‘œ ë° íŠ¸ë ˆì´ë”© ê²°ê³¼ ì‹œê°í™”

**TrainingPipeline ìž‘ë™ ì›ë¦¬:**

1. ë°ì´í„° ë¡œë“œ ë° ì „ì²˜ë¦¬
2. í•™ìŠµ/í…ŒìŠ¤íŠ¸ ë°ì´í„° ë¶„í• 
3. íŠ¸ë ˆì´ë”© í™˜ê²½ ìƒì„±
4. ëª¨ë¸ í•™ìŠµ ìˆ˜í–‰
5. í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¡œ ëª¨ë¸ í‰ê°€
6. ì„±ëŠ¥ ì§€í‘œ ê³„ì‚°(ìˆ˜ìµë¥ , ìƒ¤í”„ ë¹„ìœ¨, ìµœëŒ€ ë‚™í­, ìŠ¹ë¥ )
7. ê²°ê³¼ ì €ìž¥ ë° ì‹œê°í™”

**ì•™ìƒë¸” ëª¨ë¸ ìƒì„± ê¸°ëŠ¥:**

- ê³¼ê±° í•™ìŠµëœ ëª¨ë¸ ì¤‘ ì„±ëŠ¥ ìƒìœ„ nê°œ ì„ íƒ
- ê° ëª¨ë¸ì˜ ê°€ì¤‘ì¹˜ ì„¤ì • (ì„±ëŠ¥ì— ë¹„ë¡€)
- ì•™ìƒë¸” ì„¤ì • ì €ìž¥ ë° ìž¬ì‚¬ìš© ê°€ëŠ¥

## ë°ì´í„° ê°€ê³µ ë°©ë²•

ê°•í™”í•™ìŠµ ëª¨ë¸ì— ì‚¬ìš©í•  ë°ì´í„° ê°€ê³µì€ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤:

1. **ì›ì‹œ ë°ì´í„° ìˆ˜ì§‘**:

   - ì¼ë³„/ë¶„ë³„ OHLCV ë°ì´í„° ìˆ˜ì§‘
   - í•„ìš”ì‹œ ê¸°ì—… ìž¬ë¬´ì •ë³´, ì‹œìž¥ ì§€í‘œ ë“± ì¶”ê°€ ë°ì´í„° ìˆ˜ì§‘

2. **íŠ¹ì„± ì—”ì§€ë‹ˆì–´ë§**:

   - ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚° ì¶”ê°€ (ì´ë™í‰ê· ì„ , RSI, MACD, ë³¼ë¦°ì € ë°´ë“œ ë“±)
   - ê°€ê²© ëª¨ë©˜í…€, ë³€ë™ì„± ì§€í‘œ ê³„ì‚°
   - ë‚ ì§œ ê¸°ë°˜ íŠ¹ì„± ì¶”ê°€ (ìš”ì¼, ì›”ë§íš¨ê³¼ ë“±)

3. **ë°ì´í„° ì •ê·œí™”**:

   - MinMaxScalerë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ì„±ì„ 0~1 ë²”ìœ„ë¡œ ì •ê·œí™”
   - í•™ìŠµ/í…ŒìŠ¤íŠ¸ ë°ì´í„° ëˆ„ìˆ˜ ë°©ì§€ë¥¼ ìœ„í•œ ìŠ¤ì¼€ì¼ëŸ¬ ê´€ë¦¬

4. **ìƒíƒœ í‘œí˜„ êµ¬ì„±**:

   - ì‹œê³„ì—´ ë°ì´í„° ìœˆë„ìš°(lookback) ì„¤ì •
   - ì£¼ê°€ íŒ¨í„´, ê¸°ìˆ ì  ì§€í‘œ, í¬ì§€ì…˜ ì •ë³´ë¥¼ í¬í•¨í•œ ìƒíƒœ ë²¡í„° êµ¬ì„±
   - ê°•í™”í•™ìŠµ ì—ì´ì „íŠ¸ê°€ ì¸ì‹í•  ìˆ˜ ìžˆëŠ” ê³ ì • í¬ê¸° ê´€ì°° ê³µê°„ ì •ì˜

5. **ë³´ìƒ í•¨ìˆ˜ ì„¤ê³„**:
   - ê±°ëž˜ ì™„ë£Œ ì‹œ ì‹¤í˜„ ìˆ˜ìµë¥  ê¸°ë°˜ ë³´ìƒ
   - í™€ë”© ì‹œ ë¯¸ì‹¤í˜„ ì†ìµ ê¸°ë°˜ ë³´ìƒ
   - ìž¥ê¸° í™€ë”© ë°©ì§€ë¥¼ ìœ„í•œ íŒ¨ë„í‹° ì ìš©
   - ë¦¬ìŠ¤í¬ ê´€ë¦¬ ìš”ì†Œ í†µí•© (ìµœëŒ€ ë‚™í­ íŒ¨ë„í‹° ë“±)

## ì‚¬ìš© ê°€ëŠ¥í•œ ê°•í™”í•™ìŠµ ëª¨ë¸

í˜„ìž¬ ì§€ì›ë˜ëŠ” ê°•í™”í•™ìŠµ ëª¨ë¸ê³¼ íŠ¹ì§•:

1. **PPO (Proximal Policy Optimization)**:

   - ì•ˆì •ì ì¸ í•™ìŠµ ì„±ëŠ¥
   - ìƒ˜í”Œ íš¨ìœ¨ì„±ì´ ë†’ìŒ
   - í•˜ì´í¼íŒŒë¼ë¯¸í„° ì¡°ì •ì´ ìƒëŒ€ì ìœ¼ë¡œ ì‰¬ì›€
   - `learning_rate`, `n_steps`, `gamma` ì¡°ì • ê°€ëŠ¥

2. **A2C (Advantage Actor-Critic)**:

   - ë³‘ë ¬ í™˜ê²½ì—ì„œ íš¨ìœ¨ì 
   - ë¹ ë¥¸ í•™ìŠµ ì†ë„
   - ì•¡í„°-í¬ë¦¬í‹± êµ¬ì¡°ë¡œ ì•ˆì •ì„± í–¥ìƒ
   - `learning_rate`, `n_steps`, `ent_coef` ì¡°ì • ê°€ëŠ¥

3. **DQN (Deep Q-Network)**:
   - ì´ì‚° ì•¡ì…˜ ê³µê°„ì— ì í•©
   - ê²½í—˜ ë¦¬í”Œë ˆì´ë¥¼ í†µí•œ ìƒ˜í”Œ íš¨ìœ¨ì„±
   - íƒ€ê²Ÿ ë„¤íŠ¸ì›Œí¬ë¡œ ì•ˆì •ì„± í–¥ìƒ
   - `learning_rate`, `buffer_size`, `exploration_fraction` ì¡°ì • ê°€ëŠ¥

ì‚¬ìš©ìžëŠ” í•„ìš”ì— ë”°ë¼ ëª¨ë¸ ìœ í˜•ì„ ì„ íƒí•˜ê³ , í•˜ì´í¼íŒŒë¼ë¯¸í„°ë¥¼ ì¡°ì •í•˜ì—¬ í•™ìŠµ ì„±ëŠ¥ì„ ìµœì í™”í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

## í–¥í›„ ê°œë°œ ê³„íš

1. **API ëª¨ë“ˆ ê°œì„ **:
   - REST APIì™€ ì›¹ì†Œì¼“ í†µì‹  ê²¬ê³ ì„± ê°•í™”
   - ì‹¤ì‹œê°„ ë°ì´í„° ì²˜ë¦¬ ê¸°ëŠ¥ ê°œì„ 
   - ë‹¤ì–‘í•œ ì¦ê¶Œì‚¬ API ì§€ì› í™•ìž¥

2. **ë°ì´í„° ëª¨ë“ˆ í™•ìž¥**:
   - ë°ì´í„° ì €ìž¥ ë° ìºì‹± ì „ëžµ ê°œì„ 
   - ê¸°ìˆ ì  ì§€í‘œ ë¼ì´ë¸ŒëŸ¬ë¦¬ í™•ìž¥
   - ì‹¤ì‹œê°„ ë°ì´í„° í†µí•© ê´€ë¦¬

3. **ëª¨ë¸ ëª¨ë“ˆ ê³ ë„í™”**:
   - ë‹¤ì–‘í•œ ëª¨ë¸ ì¶”ê°€ (ì‹œê³„ì—´, íšŒê·€, ë¶„ë¥˜ ë“±)
   - ëª¨ë¸ ê²€ì¦ ë° í‰ê°€ í”„ë ˆìž„ì›Œí¬ ê°•í™”
   - í•˜ì´í¼íŒŒë¼ë¯¸í„° ìµœì í™” ìžë™í™”

4. **íŠ¸ë ˆì´ë”© ëª¨ë“ˆ ê°œì„ **:
   - ë‹¤ì–‘í•œ íŠ¸ë ˆì´ë”© ì „ëžµ êµ¬í˜„
   - ìœ„í—˜ ê´€ë¦¬ ë° í¬íŠ¸í´ë¦¬ì˜¤ ìµœì í™”
   - ì£¼ë¬¸ ì‹¤í–‰ ì•Œê³ ë¦¬ì¦˜ ê°œì„ 

5. **ê°•í™”í•™ìŠµ ëª¨ë“ˆ í™•ìž¥**:
   - ìµœì‹  ê°•í™”í•™ìŠµ ì•Œê³ ë¦¬ì¦˜ ì¶”ê°€ (SAC, TD3, DDPG ë“±)
   - ë©€í‹°ì—ì´ì „íŠ¸ í•™ìŠµ ë„ìž…
   - ì„¤ëª… ê°€ëŠ¥í•œ AI ê¸°ë²• í†µí•©


2025-05-15:
# __pycache__ ë””ë ‰í† ë¦¬ ì‚­ì œ
Get-ChildItem -Path . -Include __pycache__ -Recurse -Directory | Remove-Item -Recurse -Force

# í”„ë¡œê·¸ëž¨ ì‹¤í–‰
python -m korea_stock_auto.main --cycles 1

## API ë²„ê·¸ ìˆ˜ì • ë‚´ì—­

### ê±°ëž˜ëŸ‰ ìƒìœ„ ì¢…ëª© ì¡°íšŒ API ë¬¸ì œ í•´ê²° (2025-05-17)

í•œêµ­íˆ¬ìžì¦ê¶Œ APIë¥¼ í†µí•œ ê±°ëž˜ëŸ‰ ìƒìœ„ ì¢…ëª© ì¡°íšŒ ê¸°ëŠ¥ì˜ ë¬¸ì œë¥¼ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤:

- **ë¬¸ì œ ì›ì¸**:
  - `FID_COND_SCR_DIV_CODE` íŒŒë¼ë¯¸í„° ê°’ì´ ì˜¬ë°”ë¥´ì§€ ì•Šì•˜ìŒ
  - ê±°ëž˜ëŸ‰ ìˆœìœ„ ì¡°íšŒ API ìš”ì²­ ì‹œ í•„ìš”í•œ íŒŒë¼ë¯¸í„° ê°’ ë¶€ì¡±

- **ìˆ˜ì • ë‚´ìš©**:
  - ê±°ëž˜ëŸ‰ ìˆœìœ„ ì¡°íšŒ API íŒŒë¼ë¯¸í„°ë¥¼ êµ­ë‚´ì£¼ì‹-047 ë¬¸ì„œ ê¸°ì¤€ìœ¼ë¡œ ìˆ˜ì •:
    - `FID_COND_SCR_DIV_CODE` ê°’ì„ `20171`ë¡œ ì„¤ì •
    - `FID_TRGT_EXLS_CLS_CODE` ê°’ì„ `0000000000`ìœ¼ë¡œ ì„¤ì •
    - ê¸°íƒ€ í•„ìˆ˜ íŒŒë¼ë¯¸í„° ì¶”ê°€ ë° ìˆ˜ì •

- **ê°œì„  íš¨ê³¼**:
  - ê±°ëž˜ëŸ‰ ìƒìœ„ ì¢…ëª© API ì •ìƒ ìž‘ë™
  - ê±°ëž˜ëŸ‰ ê¸‰ì¦ ì¢…ëª© API ë™ì¼í•˜ê²Œ ì ìš©í•˜ì—¬ ì •ìƒí™”
  - ê´€ì‹¬ì¢…ëª© ì„ ì • í”„ë¡œì„¸ìŠ¤ ì •ìƒ ì§„í–‰
  - ê±°ëž˜ëŸ‰ ìƒìœ„ ì¢…ëª©ì— ê¸°ë°˜í•œ íŠ¸ë ˆì´ë”© ì „ëžµ ì •ìƒ ìž‘ë™

- **ê¸°ìˆ ì  ìƒì„¸**:
  - API ë¬¸ì„œ `ê±°ëž˜ëŸ‰ìˆœìœ„[v1_êµ­ë‚´ì£¼ì‹-047].xlsx` ê¸°ì¤€ìœ¼ë¡œ íŒŒë¼ë¯¸í„° ê²€í† 
  - íŒŒë¼ë¯¸í„° ê°’ ìˆ˜ì • ë° ëˆ„ë½ëœ íŒŒë¼ë¯¸í„° ì¶”ê°€
  - í—¤ë” ë¶€ë¶„ì˜ íŠ¸ë ˆì´ë”© ID ì„¤ì • í™•ì¸
  - ë¬¸ì œ í•´ê²°ì„ ìœ„í•´ __pycache__ ì´ˆê¸°í™” ì ìš©

  ### í•˜ì´ë¸Œë¦¬ë“œ ë°ì´í„° ìˆ˜ì§‘ê¸° (HybridDataCollector)

í†µí•©ëœ ë°ì´í„° ìˆ˜ì§‘ ì‹œìŠ¤í…œìœ¼ë¡œ APIì™€ í¬ë¡¤ëŸ¬ì˜ ìž¥ì ì„ ê²°í•©í•˜ì—¬ íš¨ìœ¨ì ì¸ ë°ì´í„° ìˆ˜ì§‘ì„ ì œê³µí•©ë‹ˆë‹¤.

#### ì£¼ìš” ê¸°ëŠ¥
- **API + í¬ë¡¤ëŸ¬ í†µí•©**: í•œêµ­íˆ¬ìžì¦ê¶Œ APIì™€ ë„¤ì´ë²„ ì¦ê¶Œ í¬ë¡¤ëŸ¬ë¥¼ í•˜ë‚˜ì˜ ì¸í„°íŽ˜ì´ìŠ¤ë¡œ í†µí•©
- **ì‹œê°„ ê¸°ë°˜ ìºì‹±**: ìž¥ì¤‘/ìž¥ ë§ˆê° í›„ ë‹¤ë¥¸ ìºì‹± ì „ëžµìœ¼ë¡œ ìµœì í™”ëœ ë°ì´í„° ìˆ˜ì§‘
- **ì§€ëŠ¥í˜• ìºì‹œ ê´€ë¦¬**: ë” í° ë°ì´í„°ì…‹ì´ ìžˆìœ¼ë©´ ìžë™ìœ¼ë¡œ í™œìš©, ìž‘ì€ ìºì‹œ íŒŒì¼ ìžë™ ì •ë¦¬
- **ë‹¤ì–‘í•œ ìˆ˜ì§‘ ì „ëžµ**: hybrid, api_only, crawler_only, db_first 4ê°€ì§€ ì „ëžµ ì œê³µ
- **ìžë™ ë°ì´í„° ë³´ì™„**: API ë°ì´í„° ë¶€ì¡± ì‹œ í¬ë¡¤ëŸ¬ë¡œ ìžë™ ë³´ì™„
- **5ë…„ì¹˜ ìž¥ê¸° ë°ì´í„°**: ë„¤ì´ë²„ ì¦ê¶Œ í¬ë¡¤ë§ìœ¼ë¡œ ìµœëŒ€ 5ë…„ì¹˜ ê³¼ê±° ë°ì´í„° ìˆ˜ì§‘

#### ì‹œê°„ ê¸°ë°˜ ìºì‹± ì‹œìŠ¤í…œ

##### ðŸ•˜ ìž¥ì¤‘ (09:00 ~ 15:30)
- **API ë°ì´í„°**: ì‹¤ì‹œê°„ ë°ì´í„° ìš°ì„  ì‚¬ìš© (ìºì‹±í•˜ì§€ ì•ŠìŒ)
- **í¬ë¡¤ëŸ¬ ë°ì´í„°**: ê¸°ì¡´ ìºì‹œ íŒŒì¼ í™œìš©
- **ëª©ì **: ìµœì‹  ì‹¤ì‹œê°„ ë°ì´í„° í™•ë³´

##### ðŸ•• ìž¥ ë§ˆê° í›„ (15:30 ì´í›„, ì£¼ë§)
- **API ë°ì´í„°**: ë‹¹ì¼ í™•ì • ë°ì´í„°ë¥¼ íŒŒì¼ì— ìºì‹±
- **í¬ë¡¤ëŸ¬ ë°ì´í„°**: ê¸°ì¡´ ìºì‹œ íŒŒì¼ í™œìš©
- **ëª©ì **: í™•ì •ëœ ë°ì´í„° ì˜êµ¬ ë³´ì¡´, ë‹¤ìŒ ê±°ëž˜ì¼ ë¹ ë¥¸ ë¡œë”©

```python
# ìž¥ì¤‘ (ì‹¤ì‹œê°„ ë°ì´í„°)
collector = HybridDataCollector()
data = collector.get_stock_data("005930", strategy="api_only")  # ì‹¤ì‹œê°„ API í˜¸ì¶œ

# ìž¥ ë§ˆê° í›„ (ìºì‹œëœ ë°ì´í„°)
data = collector.get_stock_data("005930", strategy="api_only")  # ìºì‹œ íŒŒì¼ì—ì„œ ì¦‰ì‹œ ë¡œë”©

# ì‹œìž¥ ìƒíƒœ í™•ì¸
is_open = collector.is_market_open()
print(f"ìž¥ ìš´ì˜ ì¤‘: {is_open}")
```

#### ìºì‹œ ë””ë ‰í† ë¦¬ êµ¬ì¡°
```
cache/
â”œâ”€â”€ stock_data/          # í¬ë¡¤ëŸ¬ ìºì‹œ (ìž¥ê¸° ë°ì´í„°)
â”‚   â”œâ”€â”€ 005930_day_300.pkl
â”‚   â””â”€â”€ 000660_day_1250.pkl
â””â”€â”€ api_data/            # API ìºì‹œ (ì¼ë³„ í™•ì • ë°ì´í„°)
    â”œâ”€â”€ 005930_day_2024-01-15.pkl
    â””â”€â”€ 000660_day_2024-01-15.pkl
```

#### ìµœì í™”ëœ ë°ì´í„° ìˆ˜ì§‘ ì „ëžµ

##### 1ï¸âƒ£ ê´€ì‹¬ì¢…ëª© ì„ ì • ì‹œ (ì´ˆíšŒ)
```python
# 300ê°œ ë°ì´í„° í¬ë¡¤ë§ ë° ìºì‹± (1íšŒë§Œ)
data = collector.get_stock_data("005930", count=300, strategy="crawler_only")
# íŒŒì¼ ì €ìž¥: cache/stock_data/005930_day_300.pkl
```

##### 2ï¸âƒ£ ê°•í™”í•™ìŠµ ë° ë§¤ë§¤ ì‹œ
```python
# ìž¥ ë§ˆê° í›„: ìºì‹œëœ ë°ì´í„°ë§Œ ì‚¬ìš© (í¬ë¡¤ë§ ì—†ìŒ)
data = collector.get_stock_data("005930", count=100, strategy="hybrid")
# ìºì‹œì—ì„œ ì¦‰ì‹œ ë¡œë”© (0.01ì´ˆ)

# ìž¥ì¤‘: ì‹¤ì‹œê°„ API + ìºì‹œëœ ê³¼ê±° ë°ì´í„° ì¡°í•©
recent_data = collector.get_stock_data("005930", count=30, strategy="api_only")  # ì‹¤ì‹œê°„
historical_data = collector.get_stock_data("005930", count=300, strategy="crawler_only")  # ìºì‹œ
```

#### ìºì‹œ ê´€ë¦¬
```python
# ìºì‹œ ìƒíƒœ í™•ì¸ (í¬ë¡¤ëŸ¬ + API ìºì‹œ)
cache_info = collector.get_cache_info()
print(f"ì „ì²´ ìºì‹œ íŒŒì¼: {cache_info['total_summary']['total_files']}ê°œ")
print(f"ì „ì²´ ìºì‹œ í¬ê¸°: {cache_info['total_summary']['total_size_mb']}MB")
print(f"ìž¥ ìš´ì˜ ìƒíƒœ: {cache_info['market_status']['is_market_open']}")

# ì„ íƒì  ìºì‹œ ì‚­ì œ
collector.clear_cache("005930")  # íŠ¹ì • ì¢…ëª© ìºì‹œ ì‚­ì œ
collector.clear_cache("005930", "day", include_api_cache=False)  # í¬ë¡¤ëŸ¬ ìºì‹œë§Œ ì‚­ì œ
collector.clear_cache()  # ëª¨ë“  ìºì‹œ ì‚­ì œ
```

#### ì„±ëŠ¥ í–¥ìƒ íš¨ê³¼
- **ì´ˆíšŒ í¬ë¡¤ë§**: 300ê°œ ë°ì´í„° ìˆ˜ì§‘ (1íšŒë§Œ)
- **ì´í›„ ì‚¬ìš©**: ìºì‹œì—ì„œ ì¦‰ì‹œ ë¡œë”© (100ë°° ì´ìƒ ë¹ ë¦„)
- **ì‹¤ì‹œê°„ ë°ì´í„°**: ìž¥ì¤‘ì—ë§Œ API í˜¸ì¶œ, ìž¥ ë§ˆê° í›„ ìºì‹œ í™œìš©
- **ë„¤íŠ¸ì›Œí¬ ë¶€í•˜**: ìµœì†Œí™”ëœ API í˜¸ì¶œ ë° í¬ë¡¤ë§

#### ì‚¬ìš© ì˜ˆì‹œ
```python
from korea_stock_auto.data.hybrid_data_collector import HybridDataCollector

# ì´ˆê¸°í™”
collector = HybridDataCollector()

# ê´€ì‹¬ì¢…ëª© ì„ ì • ì‹œ (ì´ˆíšŒ í¬ë¡¤ë§)
samsung_data = collector.get_stock_data("005930", period="day", count=300, strategy="crawler_only")

# ê°•í™”í•™ìŠµ/ë§¤ë§¤ ì‹œ (ìºì‹œ í™œìš©)
samsung_cached = collector.get_stock_data("005930", period="day", count=100, strategy="hybrid")

# ì‹¤ì‹œê°„ ë°ì´í„° í•„ìš” ì‹œ (ìž¥ì¤‘)
if collector.is_market_open():
    real_time_data = collector.get_stock_data("005930", count=30, strategy="api_only")
``` 


# 2025-06-05 ê²°í•©ì„±, ì‘ì§‘ì„± ê³ ë ¤í•´ ë¡œì§ ê°œì„ 
graph TB
    subgraph "Infrastructure Layer"
        API[Korea Investment API]
        DB[(Database)]
        FS[File System]
        EXT[External Services]
    end
    
    subgraph "Interface Adapters"
        APIC[API Client]
        REPO[Repository]
        CONF[Config Manager]
        LOG[Logger]
        NOTIF[Notification Service]
    end
    
    subgraph "Use Cases (Application Layer)"
        TRADE[Trading Use Case]
        RISK[Risk Management Use Case]
        DATA[Data Collection Use Case]
        ANALYSIS[Analysis Use Case]
    end
    
    subgraph "Domain Layer"
        STOCK[Stock Entity]
        ORDER[Order Entity]
        PORT[Portfolio Entity]
        STRAT[Strategy Interface]
        RULES[Business Rules]
    end
    
    subgraph "Framework Layer"
        WEB[Web Interface]
        CLI[CLI Interface]
        SCHEDULER[Scheduler]
    end
    
    WEB --> TRADE
    CLI --> TRADE
    SCHEDULER --> TRADE
    
    TRADE --> STOCK
    TRADE --> ORDER
    TRADE --> PORT
    TRADE --> STRAT
    
    RISK --> PORT
    RISK --> RULES
    
    DATA --> STOCK
    ANALYSIS --> STOCK
    
    TRADE --> APIC
    TRADE --> REPO
    TRADE --> CONF
    
    APIC --> API
    REPO --> DB
    CONF --> FS
    NOTIF --> EXT